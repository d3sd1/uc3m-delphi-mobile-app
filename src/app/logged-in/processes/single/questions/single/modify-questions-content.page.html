<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="'/logged-in/menu/processes/single-round/' + process?.id + '/question/list'"
                       routerDirection="back"
                       [routerLink]="'/logged-in/menu/processes/single-round/' + process?.id + '/question/list'"
                       text="Volver"></ion-back-button>
    </ion-buttons>
    <ion-title>Modificar preguntas</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="process && process.currentRound && process.currentRound.questions[questionIdx]"><!-- The reorder gesture is disabled by default, enable it to drag and drop items -->

  <ion-item>
    <ion-label>Tipo de pregunta</ion-label>
    <ion-select [(ngModel)]="this.process?.currentRound?.questions[questionIdx].category.id" [disabled]="process?.currentRound?.started"
    (ngModelChange)="updateQuestion()"> <!-- TODO -->
      <ion-select-option value="6">Cualitativa</ion-select-option>
      <ion-select-option value="7">Cuantitativa</ion-select-option>
      <ion-select-option value="5">Booleana</ion-select-option>
      <ion-select-option value="4">Categorías</ion-select-option>
      <ion-select-option value="3">Escala de Likert</ion-select-option>
      <ion-select-option value="2">Categorías con selección múltiple</ion-select-option>
      <ion-select-option value="1">Categorías ponderadas</ion-select-option>
      <!-- este permite reordenar respuesta de categorías-->
    </ion-select>
  </ion-item>
  <ion-item>
    <ion-textarea [(ngModel)]="this.process?.currentRound?.questions[questionIdx].name"
                  placeholder="Introduce tu pregunta aquí"
    [readonly]="process?.currentRound?.started" (ngModelChange)="updateQuestion()" debounce="500" maxlength="150"></ion-textarea>
  </ion-item>
  <delphi-question-booltype *ngIf="this.process?.currentRound?.questions[questionIdx]?.category?.id == 5" [questionIdx]="questionIdx" [process]="process"></delphi-question-booltype>
  <delphi-question-quantitative *ngIf="this.process?.currentRound?.questions[questionIdx]?.category?.id == 7" [questionIdx]="questionIdx" [process]="process"></delphi-question-quantitative>
  <delphi-question-catlikert *ngIf="this.process?.currentRound?.questions[questionIdx]?.category?.id == 3" [questionIdx]="questionIdx" [process]="process"></delphi-question-catlikert>
  <delphi-question-catcustom *ngIf="this.process?.currentRound?.questions[questionIdx]?.category?.id == 4" [questionIdx]="questionIdx" [process]="process"></delphi-question-catcustom>
  <delphi-question-catmulti *ngIf="this.process?.currentRound?.questions[questionIdx]?.category?.id == 2" [questionIdx]="questionIdx" [process]="process"></delphi-question-catmulti>
  <delphi-question-catpond *ngIf="this.process?.currentRound?.questions[questionIdx]?.category?.id == 1" [questionIdx]="questionIdx" [process]="process"></delphi-question-catpond>
</ion-content>

